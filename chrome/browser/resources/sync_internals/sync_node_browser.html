<script>
(function() {
function onLoad() {
  chrome.sync.getRootNode(updateNodeBrowser);
}

document.addEventListener("DOMContentLoaded", onLoad, false);
})();

function updateNodeBrowser(nodeInfo) {
  var nodeBrowser = document.getElementById('nodeBrowser');
  nodeInfo.specifics = JSON.stringify(nodeInfo.specifics);
  jstProcess(new JsEvalContext(nodeInfo), nodeBrowser);
}

function processNodeLink(link) {
  var id = link.text;
  chrome.sync.getNodeById(id, updateNodeBrowser);
}
</script>
<div class="desc"><h2> Node Browser </h2></div>
<ul id='nodeBrowser'>
  <li>ID: <span jscontent='id'></span></li>
  <li>Modification Time: <span jscontent='modificationTime'></span></li>
  <li>Parent: <a jscontent='parentId' href="#" onclick="processNodeLink(this); return false"></a></li>
  <li>Is Folder: <span jscontent='isFolder'></span></li>
  <li>Title: <span jscontent='title'></span></li>
  <li>Type: <span jscontent='type'></span></li>
  <li>Specifics: <span jscontent='specifics'></span></li>
  <li>External ID: <span jscontent='externalId'></span></li>
  <li>Predecessor: <a jscontent='predecessorId' href="#" onclick="processNodeLink(this); return false"></a></li>
  <li>Successor: <a jscontent='successorId' href="#" onclick="processNodeLink(this); return false"></a></li>
  <li>First Child: <a jscontent='firstChildId' href="#" onclick="processNodeLink(this); return false"></a></li>
</ul>
