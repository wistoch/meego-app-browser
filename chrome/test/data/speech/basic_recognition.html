<html>
  <head>
    <title>Speech input test</title>
    <script type="text/javascript">
      function onspeechresult(value) {
        if (value == "Pictures of the moon") {
          document.getElementById('status').innerHTML = 'PASS';
          document.location = '#pass';
        } else {
          document.location = '#fail';
        }
      }
      function run() {
        // Send a click to the right corner of the input field where the speech
        // button is rendered.
        var inputField = document.getElementById('inputField');
        var evt = document.createEvent('MouseEvents');
        evt.initMouseEvent('click', true, true, window,
                           0, 0, 0,
                           inputField.offsetWidth - 4, 4,
                           false, false, false, false, 0, null);
        inputField.dispatchEvent(evt);
      }
    </script>
  </head>
  <body onLoad="run()">
    <input id='inputField' speech onchange="onspeechresult(this.value);"><br>
    <div id="status">FAIL</div>
  </body>
</html>
