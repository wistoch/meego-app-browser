# Copyright (c) 2006-2008 The Chromium Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

Import('env')

env = env.Clone()

env.ApplySConscript([
    '$LZMA_SDK_DIR/using_lzma_sdk.scons',
])

if env.Bit('windows'):
  env.Append(
    CCFLAGS = [
        '/TP',
        '/wd4800',
    ],
  )
elif env.Bit('linux'):
  # We're not responsible for bad warning hygiene in this third party code.
  env.FilterOut(
      CXXFLAGS = ['-Wall'],
  )

input_files = [
    'mbspatch.cc',
]

env.ChromeLibrary('bspatch', input_files)

env.ChromeMSVSProject('$BSPATCH_DIR/bspatch.vcproj',
                guid='{D7ED06E8-6138-4CE3-A906-5EF1D9C804E0}')
